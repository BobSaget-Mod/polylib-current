<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>polytest.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.11.1 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>polytest.c</h1><a href="polytest_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/* polytest.c */</font>
00002 <font class="preprocessor">#include &lt;stdio.h&gt;</font>
00003 <font class="preprocessor">#include &lt;polylib/polylib.h&gt;</font>
00004 
00005 
00006 <font class="keywordtype">char</font> s[128];
00007 
00008 <font class="keywordtype">int</font> main()<font class="keyword"> </font>{ 
00009   
00010   Matrix *a=NULL, *b=NULL, *c, *d, *e, *f;
00011   Polyhedron *A, *B, *C, *D, *last, *tmp;
00012   <font class="keywordtype">int</font> i, nbPol, nbMat, func;
00013   
00014   fgets(s, 128, stdin);
00015   nbPol = nbMat = 0;
00016   <font class="keywordflow">while</font> ((*s==<font class="charliteral">'#'</font>) ||
00017           ((sscanf(s, <font class="stringliteral">"D %d"</font>, &amp;nbPol)&lt;1) &amp;&amp; (sscanf(s, <font class="stringliteral">"M %d"</font>, &amp;nbMat)&lt;1)) )
00018     fgets(s, 128, stdin);
00019 
00020   <font class="keywordflow">for</font> (i=0, A=last=(Polyhedron *)0; i&lt;nbPol; i++) {
00021     a = <a class="code" href="matrix_8c.html#a4">Matrix_Read</a>();
00022     tmp = <a class="code" href="polyhedron_8c.html#a24">Constraints2Polyhedron</a>(a,600);
00023     <a class="code" href="matrix_8c.html#a1">Matrix_Free</a>(a);
00024     <font class="keywordflow">if</font> (!last) A = last = tmp;
00025     <font class="keywordflow">else</font> {
00026       last-&gt;next = tmp;
00027       last = tmp;
00028     }
00029     }
00030 
00031     <font class="keywordflow">if</font> (nbMat)
00032     {  a = <a class="code" href="matrix_8c.html#a4">Matrix_Read</a>(); }
00033 
00034     fgets(s,128,stdin);
00035     nbPol = nbMat = 0;
00036     <font class="keywordflow">while</font> ( (*s==<font class="charliteral">'#'</font>) ||
00037         ((sscanf(s, <font class="stringliteral">"D %d"</font>, &amp;nbPol)&lt;1) &amp;&amp; (sscanf(s, <font class="stringliteral">"M %d"</font>, &amp;nbMat)&lt;1)) )
00038       fgets(s, 128, stdin);
00039 
00040     <font class="keywordflow">for</font> (i=0, B=last=(Polyhedron *)0; i&lt;nbPol; i++) {
00041       b = <a class="code" href="matrix_8c.html#a4">Matrix_Read</a>();
00042       tmp = <a class="code" href="polyhedron_8c.html#a24">Constraints2Polyhedron</a>(b,200);
00043       <a class="code" href="matrix_8c.html#a1">Matrix_Free</a>(b);
00044       <font class="keywordflow">if</font> (!last) B = last = tmp;
00045       <font class="keywordflow">else</font> {
00046         last-&gt;next = tmp;
00047         last = tmp;
00048       }
00049     }
00050     
00051     <font class="keywordflow">if</font> (nbMat)
00052       {  b = <a class="code" href="matrix_8c.html#a4">Matrix_Read</a>(); }
00053     
00054     fgets(s, 128, stdin);
00055     <font class="keywordflow">while</font> ((*s==<font class="charliteral">'#'</font>) || (sscanf(s, <font class="stringliteral">"F %d"</font>, &amp;func)&lt;1))
00056       fgets(s, 128, stdin);
00057     
00058     <font class="keywordflow">switch</font> (func) {
00059     <font class="keywordflow">case</font> 1:
00060       C = <a class="code" href="polyhedron_8c.html#a44">DomainUnion</a>(A, B, 200);
00061       D = <a class="code" href="polyhedron_8c.html#a45">DomainConvex</a>(C, 200);
00062       d = <a class="code" href="polyhedron_8c.html#a25">Polyhedron2Constraints</a>(D);
00063       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,d);
00064       <a class="code" href="matrix_8c.html#a1">Matrix_Free</a>(d);
00065       <a class="code" href="polyhedron_8c.html#a19">Domain_Free</a>(C);
00066       <a class="code" href="polyhedron_8c.html#a19">Domain_Free</a>(D);
00067       <font class="keywordflow">break</font>;
00068     <font class="keywordflow">case</font> 2:
00069       D = <a class="code" href="polyhedron_8c.html#a42">DomainSimplify</a>(A, B, 200);
00070       d = <a class="code" href="polyhedron_8c.html#a25">Polyhedron2Constraints</a>(D);
00071       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,d);
00072       <a class="code" href="matrix_8c.html#a1">Matrix_Free</a>(d);
00073       <a class="code" href="polyhedron_8c.html#a19">Domain_Free</a>(D);
00074       <font class="keywordflow">break</font>;
00075     <font class="keywordflow">case</font> 3:
00076       a = <a class="code" href="polyhedron_8c.html#a25">Polyhedron2Constraints</a>(A);
00077       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,a);
00078       b = <a class="code" href="polyhedron_8c.html#a25">Polyhedron2Constraints</a>(B);
00079       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,b);
00080       <font class="keywordflow">break</font>;
00081     <font class="keywordflow">case</font> 4:
00082       a = <a class="code" href="polyhedron_8c.html#a33">Polyhedron2Rays</a>(A);
00083       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,a);
00084       <font class="keywordflow">break</font>;
00085     <font class="keywordflow">case</font> 5:
00086       
00087       <font class="comment">/* a = ec , da = c , ed = 1 */</font>
00088       <a class="code" href="matrix_8c.html#a6">right_hermite</a>(a,&amp;c,&amp;d,&amp;e);
00089       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,c);
00090       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,d);
00091       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,e);
00092       f = <a class="code" href="matrix_8c.html#a0">Matrix_Alloc</a>(e-&gt;NbRows,c-&gt;NbColumns);
00093       <a class="code" href="matrix_8c.html#a12">Matrix_Product</a>(e,c,f);
00094       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,f);
00095       <a class="code" href="matrix_8c.html#a1">Matrix_Free</a>(f);
00096       f = <a class="code" href="matrix_8c.html#a0">Matrix_Alloc</a>(d-&gt;NbRows,a-&gt;NbColumns);
00097       <a class="code" href="matrix_8c.html#a12">Matrix_Product</a>(d,a,f);
00098       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,f);
00099       <a class="code" href="matrix_8c.html#a1">Matrix_Free</a>(f);
00100       f = <a class="code" href="matrix_8c.html#a0">Matrix_Alloc</a>(e-&gt;NbRows, d-&gt;NbColumns);
00101       <a class="code" href="matrix_8c.html#a12">Matrix_Product</a>(e,d,f);
00102       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,f);
00103       <font class="keywordflow">break</font>;
00104     <font class="keywordflow">case</font> 6:
00105       
00106       <font class="comment">/* a = ce , ad = c , de = 1 */</font>
00107       <a class="code" href="matrix_8c.html#a7">left_hermite</a>(a,&amp;c,&amp;d,&amp;e);
00108       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,c);
00109       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,d);
00110       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,e);
00111       f = <a class="code" href="matrix_8c.html#a0">Matrix_Alloc</a>(c-&gt;NbRows, e-&gt;NbColumns);
00112       <a class="code" href="matrix_8c.html#a12">Matrix_Product</a>(c,e,f);
00113       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,f);
00114       <a class="code" href="matrix_8c.html#a1">Matrix_Free</a>(f);
00115       f = <a class="code" href="matrix_8c.html#a0">Matrix_Alloc</a>(a-&gt;NbRows, d-&gt;NbColumns);
00116       <a class="code" href="matrix_8c.html#a12">Matrix_Product</a>(a,d,f);
00117       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,f);
00118       <a class="code" href="matrix_8c.html#a1">Matrix_Free</a>(f);
00119       f = <a class="code" href="matrix_8c.html#a0">Matrix_Alloc</a>(d-&gt;NbRows, e-&gt;NbColumns);
00120       <a class="code" href="matrix_8c.html#a12">Matrix_Product</a>(d,e,f);
00121       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,f);
00122       <font class="keywordflow">break</font>;
00123     <font class="keywordflow">case</font> 7:               
00124      
00125       <font class="comment">/* Polyhedron_Print(stdout,"%5d", A); */</font>
00126       <font class="comment">/* Matrix_Print(stdout,"%4d", b);     */</font>
00127       
00128       C = <a class="code" href="polyhedron_8c.html#a52">Polyhedron_Image</a>(A, b, 400);
00129       <a class="code" href="polyhedron_8c.html#a20">Polyhedron_Print</a>(stdout,P_VALUE_FMT,C);
00130       <font class="keywordflow">break</font>;
00131     <font class="keywordflow">case</font> 8:
00132       
00133       printf(<font class="stringliteral">"%s\n"</font>,
00134              <a class="code" href="alpha_8c.html#a1">Polyhedron_Not_Empty</a>(A,B,600) ? <font class="stringliteral">"Not Empty"</font> : <font class="stringliteral">"Empty"</font>);
00135       <font class="keywordflow">break</font>;
00136     <font class="keywordflow">case</font> 9:
00137       
00138       i = <a class="code" href="alpha_8c.html#a2">PolyhedronLTQ</a>(A,B,1,0,600);
00139       printf(<font class="stringliteral">"%s\n"</font>,
00140              i==-1 ? <font class="stringliteral">"A&lt;B"</font> : i==1 ? <font class="stringliteral">"A&gt;B"</font> : i==0 ? <font class="stringliteral">"A&gt;&lt;B"</font> : <font class="stringliteral">"error"</font>);
00141       i = <a class="code" href="alpha_8c.html#a2">PolyhedronLTQ</a>(B,A,1,0,600);
00142       printf(<font class="stringliteral">"%s\n"</font>,
00143              i==-1 ? <font class="stringliteral">"A&lt;B"</font> : i==1 ? <font class="stringliteral">"A&gt;B"</font> : i==0 ? <font class="stringliteral">"A&gt;&lt;B"</font> : <font class="stringliteral">"error"</font>);
00144       <font class="keywordflow">break</font>;
00145     <font class="keywordflow">case</font> 10:
00146       i = <a class="code" href="alpha_8c.html#a3">GaussSimplify</a>(a,b);
00147       <a class="code" href="matrix_8c.html#a2">Matrix_Print</a>(stdout,P_VALUE_FMT,b);
00148       <font class="keywordflow">break</font>;
00149      
00150     <font class="keywordflow">default</font>:
00151       printf(<font class="stringliteral">"? unknown function\n"</font>);
00152     }
00153     
00154     <a class="code" href="polyhedron_8c.html#a19">Domain_Free</a>(A);
00155     <a class="code" href="polyhedron_8c.html#a19">Domain_Free</a>(B);
00156     
00157     <font class="keywordflow">return</font> 0;
00158 }
00159 
00160 
</pre></div><hr><address><small>Generated on Fri Oct 4 16:14:26 2002 for Polylib by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.11.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
